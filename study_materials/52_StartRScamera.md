<!-- omit from toc --> 
# –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–¥–æ–º–µ—Ç—Ä–∏—è

- [–ó–∞—á–µ–º –Ω—É–∂–Ω–∞ –æ–¥–æ–º–µ—Ç—Ä–∏—è?](#–∑–∞—á–µ–º-–Ω—É–∂–Ω–∞-–æ–¥–æ–º–µ—Ç—Ä–∏—è)
- [–ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∏–∑—É–∞–ª—å–Ω–∞—è –æ–¥–æ–º–µ—Ç—Ä–∏—è?](#—á—Ç–æ-—Ç–∞–∫–æ–µ-–≤–∏–∑—É–∞–ª—å–Ω–∞—è-–æ–¥–æ–º–µ—Ç—Ä–∏—è)
- [Intel RealSense D435i](#intel-realsense-d435i)
- [–í—Ä–µ–º—è –æ–¥–æ–º–µ—Ç—Ä–∏!](#–≤—Ä–µ–º—è-–æ–¥–æ–º–µ—Ç—Ä–∏)

## –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ –æ–¥–æ–º–µ—Ç—Ä–∏—è?

–ï—Å–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å [–∏–Ω—Ñ—É –æ —Ñ—Ä–µ–π–º–∞—Ö –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–µ](https://www.ros.org/reps/rep-0105.html#coordinate-frames), —Ç–æ –º–æ–∂–Ω–æ –∑–∞–º–µ—Ç–∏—Ç—å —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—Ä–µ–π–º–∞, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–¥–µ–ª—è—é—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –¥–≤–∏–∂—É—â–∏—Ö—Å—è —Ä–æ–±–æ—Ç–æ–≤: `base_link`, `odom`, `map`.

- `base_link` —á–∞—Å—Ç–æ —Å—Ç–∞–≤—è—Ç –≤–º–µ—Å—Ç–µ —Å `base_footprint` –∑–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–∞–∑–Ω–∏—Ü–µ–π, —á—Ç–æ `base_link` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≥–¥–µ-—Ç–æ –≤ —Ü–µ–Ω—Ç—Ä–µ —Ä–æ–±–æ—Ç–∞, –∞ `base_footprint` - –Ω–∞ —É—Ä–æ–≤–Ω–µ Z=0 (–Ω–∞ —É—Ä–æ–≤–Ω–µ –∑–µ–º–ª–∏). –¢–æ –µ—Å—Ç—å, `base_{link/footprint}` - —ç—Ç–æ —Ñ—Ä–µ–π–º, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –∫ –¥–≤–∏–∂—É—â–µ–º—É—Å—è —Ä–æ–±–æ—Ç—É.

- `odom` - –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –Ω–∞—Å —Ñ—Ä–µ–π–º, –æ–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ, –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Ç–æ—Ä–æ–≥–æ —Ä–æ–±–æ—Ç –¥–≤–∏–∂–µ—Ç—Å—è.

- `map` - —Ñ—Ä–µ–π–º, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–æ—á–∫–µ –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ, –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Ç–æ—Ä–æ–π –¥–≤–∏–∂–µ–Ω—Ç—Å—è —Ä–æ–±–æ—Ç.

> –í—Å–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ñ—Ä–µ–π–º–æ–≤ –¥–∞–Ω—ã –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –∏ –Ω–µ –ø—Ä–µ—Ç–µ–Ω–¥—É—é—Ç –Ω–∞ –ø–æ–ª–Ω–æ—Ç—É.

–¢–∞–∫, –∞ –Ω–µ –∫–∞–∂–µ—Ç—Å—è —Ç–µ–±–µ, —á—Ç–æ `odom` –∏ `map` —É–∂ –æ—á–µ–Ω—å –ø–æ—Ö–æ–∂–∏? –ü–æ —Å—É—Ç–∏ —Ç–∞–∫, –Ω–æ —É –Ω–∏—Ö –µ—Å—Ç—å –æ–¥–Ω–æ –º–∞–ª–µ–Ω—å–∫–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ. `odom` —Ñ—Ä–µ–π–º - —ç—Ç–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è —Ç–æ—á–∫–∞ –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ, –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Ç–æ—Ä–æ–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–µ –Ω–∞—à–∞ **—Å–∏—Å—Ç–µ–º–∞ –æ–¥–æ–º–µ—Ç—Ä–∏–∏ –≤ —Ä–æ–±–æ—Ç–µ**.

–û—Ç–ª–∏—á–∏—Ç–µ–ª—å–Ω–æ–π –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å—é `map` —è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ —ç—Ç–æ—Ç —Ñ—Ä–µ–π–º –±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª–µ–Ω –∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –Ω–µ–≥–æ TF —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ —Å–∏—Å—Ç–µ–º–æ–π –æ–¥–æ–º–µ—Ç—Ä–∏–∏, –Ω–æ –∏ —Å–∏—Å—Ç–µ–º–∞–º –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (—Ç–∏–ø–∞ –∫–æ—Ä—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –ø–æ –∫–∞—Ä—Ç–µ –∏ —Ç.–¥.).

–¢–∞–∫, –∫–∞–∂–µ—Ç—Å—è, —ç—Ç–æ —Å–ª–æ–∂–Ω–æ, –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä!

–í–æ—Ç –µ—Å—Ç—å –≤–∞—Ñ–µ–ª—å–∫–∞ –∏ —É –Ω–µ—ë –µ—Å—Ç—å –¥–≤–∞ –∫–æ–ª–µ—Å–∞. –ú—ã –Ω–∞—á–∏–Ω–∞–µ–º –¥–≤–∏–∂–µ–Ω–∏–µ –∏ –≥–æ–≤–æ—Ä–∏–º –µ–π –µ—Ö–∞—Ç—å 20 —Å–µ–∫—É–Ω–¥. –¢–µ–ø–µ—Ä—å, –≤–∞—Ñ–µ–ª—å–∫–∞ –ø—Ä–æ–µ—Ö–∞–ª–∞ –∫–∞–∫–æ–µ-—Ç–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ, —Ç–∞–∫? –ù–æ –∫–∞–∫ —É–∑–Ω–∞—Ç—å, –∫–∞–∫–æ–µ?

–£ –Ω–∞—Å –µ—Å—Ç—å —Ç—Ä–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö: —Ä—É–ª–µ—Ç–∫–∞, –æ—Ü–µ–Ω–∫–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –ø–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –∫–∞—Ä—Ç–µ –∏ –≤–∏–∑—É–∞–ª—å–Ω–∞—è –æ–¥–æ–º–µ—Ç—Ä–∏—è.

–ù—É, –¥—É–º–∞—é, –ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ –º—ã –¥–µ–ª–∞–µ–º –∞–≤—Ç–æ–Ω–æ–º–Ω—ã—Ö/—Ç–µ–ª–µ—É–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö —Ä–æ–±–æ—Ç–æ–≤, –∞ –∑–Ω–∞—á–∏—Ç —Å **—Ä—É–ª–µ—Ç–∫–æ–π** –Ω–µ –ø–æ–±–µ–≥–∞—Ç—å - —ç—Ç–æ –≤–∞—Ä–∏–∞–Ω—Ç –æ—Ç–ø–∞–¥–∞–µ—Ç, —Ç–∞–∫ –∫–∞–∫ –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–º –≤ —Ö–æ–¥–µ —Ä–∞–±–æ—Ç—ã —Ä–æ–±–æ—Ç–∞.

## –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∏–∑—É–∞–ª—å–Ω–∞—è –æ–¥–æ–º–µ—Ç—Ä–∏—è?

–í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–¥–æ–º–µ—Ç—Ä–∏—è ‚Äì —ç—Ç–æ –Ω–∞–¥–µ–∂–Ω—ã–π –º–µ—Ç–æ–¥, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–º—É
—Å—Ä–µ–¥—Å—Ç–≤—É —É—Å—Ç–æ–π—á–∏–≤–æ –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–µ–±—è –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ, –∏—Å–ø–æ–ª—å–∑—É—è –¥–∞–Ω–Ω—ã–µ –æ —Å–º–µ—â–µ–Ω–∏—è –∫–ª—é—á–µ–≤—ã—Ö —Ç–æ—á–µ–∫, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–ª—É—á–∞–µ—Ç—Å—è –∏–∑ –∞–Ω–∞–ª–∏–∑–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∑—Ä–µ–Ω–∏—è.

## Intel RealSense D435i

[Intel RealSense D435i](https://www.intelrealsense.com/depth-camera-d435i/) - —Å—Ç–µ—Ä–µ–æ–∫–∞–º–µ—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è –≤ –∫–æ–º–ø–∞–∫—Ç–Ω–æ–º –∫–æ—Ä–ø—É—Å–µ —Å–∫—Ä—ã–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ª–æ–∂–Ω—ã—Ö –¥–∞—Ç—á–∏–∫–æ–≤, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫—É —Ä–∞–±–æ—á–µ–π —Å—Ü–µ–Ω—ã –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ç—Ä–µ—Ö–º–µ—Ä–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ. –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å–ø–æ—Å–æ–±–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –≥–ª—É–±–∏–Ω—É —Å—Ü–µ–Ω—ã –∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–∫–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤, –∫–∞–∫ –∂–µ—Å—Ç—ã, –ø–æ–≤–æ—Ä–æ—Ç—ã, –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –∏ –∏—Ö –ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–º –∏ –æ—Ç–∫—Ä—ã—Ç–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ (—Å–∏—Å—Ç–µ–º–∞ —à–µ—Å—Ç–∏ —Å—Ç–µ–ø–µ–Ω–µ–π —Å–≤–æ–±–æ–¥—ã ‚Äî 6DoF). –°–∫–æ—Ä–æ—Å—Ç–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Ö–≤–∞—Ç–∞–µ—Ç –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–∞–º–µ—Ä—ã –≤ —Ä–æ–±–æ—Ç–æ—Ç–µ—Ö–Ω–∏–∫–µ, –≤ –ª–µ—Ç–∞—Ç–µ–ª—å–Ω—ã—Ö –∞–ø–ø–∞—Ä–∞—Ç–∞—Ö, —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–π –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏.

<p align="center">
<img src="../assets/lesson_04/intel-realsense-depth-camera-d435i.png" width=300>
</p>

–ó–∞ —Å–±–æ—Ä –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç–≤–µ—á–∞—é—Ç 3 —Å–µ–Ω—Å–æ—Ä–∞, —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∏–µ –∏–Ω–µ—Ä—Ü–∏–æ–Ω–Ω—ã–π –∏–∑–º–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–π –±–ª–æ–∫ (IMU):

- –∏–Ω—Ñ—Ä–∞–∫—Ä–∞—Å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç–æ—Ä;
- 3D-—Å–∫–∞–Ω–µ—Ä, –ø–æ–¥–∞—é—â–∏–π –Ω–∞ –≤—ã—Ö–æ–¥ –æ–±—ä–µ–º–Ω—É—é —Å—Ü–µ–Ω—É –≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏ 1280 √ó 720 –ø–∏–∫—Å–µ–ª–µ–π –∏ —Å —á–∞—Å—Ç–æ—Ç–æ–π –≤–∏–¥–µ–æ—Ä—è–¥–∞ –¥–æ 90 –∫–∞–¥—Ä–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É. –†–∞–±–æ—á–∞—è –¥–∏—Å—Ç–∞–Ω—Ü–∏—è —Å–µ–Ω—Å–æ—Ä–∞ ‚Äî –æ—Ç 0.1 –º–µ—Ç—Ä–∞ –¥–æ 10 –º, –Ω–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–∞–ª—å–Ω–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, —Ç–∏–ø–∞ —Å—Ü–µ–Ω—ã –∏ —É—Å–ª–æ–≤–∏–π –æ—Å–≤–µ—â–µ–Ω–∏—è.
- RGB-—Å–µ–Ω—Å–æ—Ä, –ø–æ–¥–∞—é—â–∏–π –Ω–∞ –≤—ã—Ö–æ–¥ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏ Full HD (1920 √ó 1080 –ø–∏–∫—Å–µ–ª–µ–π) –∏ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —á–∞—Å—Ç–æ—Ç–æ–π 30 –∫–∞–¥—Ä–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É.

–î–∞–≤–∞–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏–º –Ω–∞—à—É –∫–∞–º–µ—Ä—É –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –æ–Ω–∞ –º–æ–∂–µ—Ç –Ω–∞–º –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å:

```bash
realsense-viewer
```
<p align="center">
<img src="../assets/lesson_04/realsense-viewer.png" width=700>
</p>

–ü–æ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞–ø—É—Å–∫ `Intel RealSense SDK 2.0`, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä–æ–≥–æ –º—ã –º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ –≥–ª—É–±–∏–Ω—ã Intel RealSense –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ—Ç–æ–∫–∞ –≥–ª—É–±–∏–Ω—ã, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±–ª–∞–∫–æ–≤ —Ç–æ—á–µ–∫, –∑–∞–ø–∏—Å–∏ –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–≤, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–∞–º–µ—Ä—ã –∏ –º–Ω–æ–≥–æ–≥–æ –¥—Ä—É–≥–æ–≥–æ .

–ü–æ—Å–º–æ—Ç—Ä–µ–ª–∏? –û—Ç–ª–∏—á–Ω–æ, –Ω–æ –¥–ª—è –Ω–∞—à–µ–π —Ä–∞–±–æ—Ç—ã —ç—Ç–æ–≥–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ. –°–µ–π—á–∞—Å –Ω—É–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑ –ø–∞–ø–∫–∏ `drivers` –≤ —ç—Ç–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ launch —Ñ–∞–π–ª –¥—Ä–∞–π–≤–µ—Ä–∞, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–∞–º–µ—Ä—ã —á–µ—Ä–µ–∑ ROS (–æ–Ω —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π –∏ –º—ã —Ä–µ—à–∏–ª–∏ –Ω–µ –≤—ã–Ω–æ—Å–∏—Ç—å –µ–≥–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤ —Ç–æ–ø–∏–∫). –°–æ—Ö—Ä–∞–Ω—è–µ–º –º—ã –µ–≥–æ –≤ `kitty_vision->drivers` –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `driver_realsense.launch`. –ù–æ —ç—Ç–æ–≥–æ –Ω–∞–º –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å launch –≤ `kitty_vision->drivers` - `start_rs_camera.launch`

```bash
<?xml version="1.0"?>
<launch>
  <group ns="rs_camera">
    <include file="$(find kitty_vision)/launch/driver_realsense.launch">
      <arg name="tf_prefix" value="rs_camera" />
      <arg name="align_depth" value="true" /> 
      <arg name="linear_accel_cov" value="0.01" />
      <arg name="unite_imu_method" value="copy" />
      <arg name="depth_fps" value="30" />
      <arg name="color_fps" value="30" />
      <arg name="enable_gyro" value="true" />
      <arg name="enable_accel" value="true" />
      <arg name="initial_reset" default="false" />
    </include>

    <node pkg="nodelet" type="nodelet" name="rgbd_sync" args="load rtabmap_sync/rgbd_sync realsense2_camera_manager" output="screen">
        <remap from="rgb/image" to="color/image_raw" />
        <remap from="depth/image" to="aligned_depth_to_color/image_raw" />
        <remap from="rgb/camera_info" to="color/camera_info" />
        <param name="approx_sync" value="false" />
      </node>
  </group>
</launch>
```

–ù–∞—Å—Ç—Ä–æ–∏–º –æ–∫–Ω–æ `Rviz`, –∏–∑–º–µ–Ω–∏–≤ `Fixed Frame` –Ω–∞ `rs_camera_link` –∏ –¥–æ–±–∞–≤–∏–º `PointCloud2`

<p align="center">
<img src="../assets/lesson_04/realsense-rviz.png" width=700>
</p>

>ü¶æ	–ù–µ –∑–∞–±—É–¥—å—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É –≤ –ø–∞–ø–∫—É `kitty_vision->rviz` –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `view_realsense.rviz` –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –≤–∞—à —Ñ–∞–π–ª `start_rs_camera.launch` –∑–∞–ø—É—Å–∫ `rviz` —É–∂–µ —Å –≥–æ—Ç–æ–≤—ã–º –∫–æ–Ω—Ñ–∏–≥–æ–º.

## –í—Ä–µ–º—è –æ–¥–æ–º–µ—Ç—Ä–∏!

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –æ–¥–æ–º–µ—Ç—Ä–∏–∏ –Ω–∞–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å launch `rgbd_odom.launch` –∏ –ø–æ–º–µ—Å—Ç–∏—Ç—å –µ–≥–æ –≤ `kitty_vision->drivers`. 

```xml
<?xml version="1.0"?>
<launch>

    <arg name="camera_name" default="rs_camera" />
    <arg name="publish_tf" default="true" />

    <node pkg="rtabmap_odom" type="rgbd_odometry" name="rgbd_odometry" output="screen">
        <param name="subscribe_rgbd" type="bool" value="true" />

        <param name="frame_id" type="string" value="rs_camera_link" /> <!--base_footprint-->
        <param name="odom_frame_id" type="string" value="odom"/>

        <param name="publish_tf" type="bool" value="$(arg publish_tf)" />
        <param name="publish_null_when_lost" type="bool" value="true" />

        <param name="Reg/Force3DoF" type="bool" value="true" />
        <param name="Odom/ResetCountdown" type="string" value="1" />
        <param name="Odom/Strategy" type="string" value="0"/> <!-- 0=Frame-to-Map, 1=Frame=to=Frame -->
        <param name="OdomF2M/MaxSize" type="string" value="1000"/>
        <!-- <param name="Odom/GuessMotion" type="string" value="true"/> -->
        <param name="Vis/EstimationType" type="string" value="1"/> <!-- 0=3D->3D 1=3D->2D (PnP) -->
        <param name="Vis/MaxDepth" type="string" value="0"/>
        <param name="Vis/MinInliers" type="string" value="10"/>
        <param name="GFTT/MinDistance" type="string" value="10"/>
        <param name="GFTT/QualityLevel" type="string" value="0.00001"/>
        <param name="GFTT/QualityLevel" type="string" value="0.00001"/>

        <!-- inputs -->
        <!-- if subscribe_rgbd=false -->
        <remap from="rgb/image" to="$(arg camera_name)/color/image_raw" />
        <remap from="rgb/camera_info" to="$(arg camera_name)/color/camera_info" />
        <remap from="depth/image" to="$(arg camera_name)/aligned_depth_to_color/image_raw" />
        <!-- if subscribe_rgbd=true -->
        <remap from="rgbd_image" to="$(arg camera_name)/rgbd_image" />
        <!-- outputs -->
        <remap from="odom" to="visual_odometry" />

    </node>

</launch>
```

–ó–∞–ø—É—Å–∫–∞–µ–º –Ω–∞—à–∏ –¥–≤–∞ –ª–∞—É–Ω—á–∞:

```bash
roslaunch kitty_package start_rs_camera.launch
```
```bash
roslaunch kitty_package rgbd_odom.launch
```

–ß—Ç–æ–±—ã –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, —Ç–æ –Ω—É–∂–Ω–æ –¥–æ–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å `rviz` —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

<p align="center">
<img src="../assets/lesson_04/rviz_config.png" width=200>
</p>

–ï—Å–ª–∏ –≤—ã –≤—Å–µ —Å–¥–µ–ª–∞–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —Ç–æ —É –≤–∞—Å –¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è –Ω–µ—á—Ç–æ —Ç–∞–∫–æ–µ: 

<p align="center">
<img src="../assets/lesson_04/view_odom.gif" width=500>
</p>

>ü¶æ	–û–±—ä–µ–¥–∏–Ω–∏—Ç–µ –ª–∞—É–Ω—á–∏ `rgbd_odom.launch` –∏  `start_rs_camera.launch` –≤ –æ–¥–∏–Ω –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è. –ù–æ–≤—ã–π —Ñ–∞–π–ª –ø–æ–º–µ—Å—Ç–∏—Ç–µ –≤ `kitty_vision->full` –∏ –Ω–∞–∑–æ–≤–∏—Ç–µ –µ–≥–æ, –∫–∞–∫ `full_rs_odom.launch`